{"ast":null,"code":"import sqlite from \"sqlite\";\n\nconst authenticated = fn => async (req, res) => {\n  return await fn(req, res);\n};\n\nexport default authenticated(async function getPeople(req, res) {\n  const db = await sqlite.open(\"./mydb.sqlite\");\n  const people = await db.all(\"select id, email, name from person\");\n  res.json(people);\n});","map":{"version":3,"sources":["/Users/daniel/Documents/development/NEXTJS/nextjs-auth/src/pages/api/people.ts"],"names":["sqlite","authenticated","fn","req","res","getPeople","db","open","people","all","json"],"mappings":"AACA,OAAOA,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,aAAa,GAAIC,EAAD,IAAwB,OAC5CC,GAD4C,EAE5CC,GAF4C,KAGzC;AACH,SAAO,MAAMF,EAAE,CAACC,GAAD,EAAMC,GAAN,CAAf;AACD,CALD;;AAOA,eAAeH,aAAa,CAAC,eAAeI,SAAf,CAC3BF,GAD2B,EAE3BC,GAF2B,EAG3B;AACA,QAAME,EAAE,GAAG,MAAMN,MAAM,CAACO,IAAP,CAAY,eAAZ,CAAjB;AACA,QAAMC,MAAM,GAAG,MAAMF,EAAE,CAACG,GAAH,CAAO,oCAAP,CAArB;AAEAL,EAAAA,GAAG,CAACM,IAAJ,CAASF,MAAT;AACD,CAR2B,CAA5B","sourcesContent":["import { NextApiHandler, NextApiRequest, NextApiResponse } from \"next\";\nimport sqlite from \"sqlite\";\n\nconst authenticated = (fn: NextApiHandler) => async (\n  req: NextApiRequest,\n  res: NextApiResponse\n) => {\n  return await fn(req, res);\n};\n\nexport default authenticated(async function getPeople(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const db = await sqlite.open(\"./mydb.sqlite\");\n  const people = await db.all(\"select id, email, name from person\");\n\n  res.json(people);\n});\n"]},"metadata":{},"sourceType":"module"}